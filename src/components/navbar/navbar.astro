---
import Container from "@/components/container.astro";
import { Icon } from "astro-icon/components";

export interface Props {
  lang: "en" | "ko";
}

const { lang } = Astro.props;

const menuitems = [
  {
    title: lang === "ko" ? "í…œí”Œë¦¿" : "Templates",
    path: lang === "ko" ? "/ko/templates" : "/templates",
    icon: "bx:grid-alt",
  },
  {
    title: lang === "ko" ? "ë¸”ë¡œê·¸" : "Blog",
    path: lang === "ko" ? "/ko/blog" : "/blog",
    icon: "ri:book-line",
  },
  {
    title: lang === "ko" ? "ì†Œê°œ" : "About",
    path: lang === "ko" ? "/ko/about" : "/about",
    icon: "bx:user",
  },
  {
    title: lang === "ko" ? "í•¨ê»˜ ë§Œë“¤ê¸°" : "Letâ€™s Talk",
    path: lang === "ko" ? "/ko/contact" : "/contact",
    icon: "ri:mail-line",
  }
];
---

<Container>
  <header class="flex flex-col lg:flex-row justify-between items-center py-4">
    <!-- Left: Logo & Mobile Menu Icon -->
    <div class="flex w-full lg:w-auto justify-between items-center">
      <a href="/" class="text-xl font-bold text-slate-800">
        <span class="text-black">nam</span><span class="text-slate-500">darine</span>
      </a>
      <button
        id="mobile-toggle"
        class="lg:hidden text-gray-800"
        aria-label="Toggle Menu"
      >
        <Icon name="mdi:menu" class="w-6 h-6" />
      </button>
    </div>

    <!-- Right: Menu Items -->
    <nav id="mobile-menu" class="hidden w-full lg:flex lg:w-auto mt-4 lg:mt-0 flex-col lg:flex-row lg:items-center">
      <ul class="flex flex-col lg:flex-row lg:gap-4 text-base text-slate-600 font-medium">
        {
          menuitems.map((item) => (
            <li>
              <a
                href={item.path}
                class="flex items-center gap-2 py-2 px-2 hover:text-black transition"
              >
                <Icon name={item.icon} class="w-5 h-5" />
                <span>{item.title}</span>
              </a>
            </li>
          ))
        }
      </ul>

      <!-- Language Switcher -->
      <div class="mt-4 lg:mt-0 lg:ml-4 flex justify-center">
        <a
          href={lang === "ko" ? Astro.url.pathname.replace(/^\/ko/, "") : `/ko${Astro.url.pathname}`}
          class="flex items-center gap-2 text-sm text-slate-600 hover:text-black border border-slate-200 px-3 py-1.5 rounded-full shadow-sm"
        >
          {lang === "ko" ? "ðŸ‡ºðŸ‡¸ English" : "ðŸ‡°ðŸ‡· í•œêµ­ì–´"}
        </a>
      </div>
    </nav>
  </header>
</Container>