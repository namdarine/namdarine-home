---
import Layout from "@/layouts/Layout.astro";
import Container from "@/components/container.astro";
import Sectionhead from "@/components/sectionhead.astro";
import { getCollection } from "astro:content";

const templates = await getCollection("templates");
---

<Layout title="Templates">
  <Container>
    <Sectionhead>
      <Fragment slot="title">Templates</Fragment>
      <Fragment slot="desc">
        Templates designed to simplify your AI journey — no code, just clicks.
      </Fragment>
    </Sectionhead>

    <div class="grid md:grid-cols-2 gap-10 mt-12">
      {templates.map((template) => (
        <a
          href={`/templates/${template.slug}`}
          class="block hover:shadow-md transition rounded-xl p-4 border border-slate-200 bg-white"
        >
          <img
            src={template.data.thumbnail}
            alt={template.data.title}
            class="rounded-md mb-4 w-full h-48 object-cover"
          />
          <h3 class="text-xl font-semibold text-slate-800">
            {template.data.title}
          </h3>
          <p class="text-sm text-slate-500 mt-2">
            {template.data.description || 'A no-code AI template from Namdarine.'}
          </p>
          <div class="mt-4">
            <span class="text-indigo-600 text-sm font-medium">
              View Template →
            </span>
          </div>
        </a>
      ))}
    </div>
  </Container>
</Layout>
